# Тестовое задание от Valantis

Как использовать

Вы можете перейти на запущенный для этого проекта [GitPages](https://abrakadabraws.github.io/Valantis/) или клонировать репозиторий к себе на компьютериспользуюя следующие команды

```bash
git clone https://github.com/AbrakadabraWS/Valantis.git
cd Valantis
```

Посде клонирования репозитория необходимо установить пакеты и можно запустить проект в dev режиме:

```bash
npm install
npm run dev
```

После запуска перейдите в браузере по ссылке [http://localhost:3000](http://localhost:3000)
Важно в dev режиме NextJS выполняет все запросы по 2 раза связано это с особенностью самого NextJS

Так же доступен вариант запуска в режиме релиза (в этом же режиме работает код на [GitPages](https://abrakadabraws.github.io/Valantis/)) для этого если вы еще не запускали в dev режиме то выполните команду npm run dev это необходимо для того чтоб NextJS сформировал все необходимые для билда файлы

```bash
npm run dev
```

После этого с помощью Ctrl+C выйдите закройте dev режим и выполните следующие коанды

```bash
npm run build
npm run start
```

После запуска перейдите в браузере по ссылке [http://localhost:3000](http://localhost:3000)

## Задание предоставленное Valantis

Используя предоставленный апи создать страницу, которая отображает список товаров.
Для каждого товара должен отображаться его id, название, цена и бренд.

### Требования Valantis:

* выводить по 50 товаров на страницу с возможностью постраничного перехода (пагинация) в обе стороны.
* возможность фильтровать выдачу используя предоставленное апи по названию, цене и бренду

Если API возвращает дубли по id, то следует их считать одним товаром и выводить только первый, даже если другие поля различаются.
Если API возвращает ошибку, следует вывести идентификатор ошибки в консоль, если он есть и повторить запрос.

Задание можно выполнять на **React** или на **нативном JS**.
Оцениваться будет правильность работы сайта и качество кода.
**Внешний вид** сайта оставляем на Ваше усмотрение.

Пароль для доступа к апи: **Valantis**API доступно по адресам:

* http://api.valantis.store:40000/
* https://api.valantis.store:41000/

[Документация по работе с **API** прилагается](https://github.com/ValantisJewelry/TestTaskValantis/blob/main/API.md)

## Итог выполнения задания

Создана страница которая отображает список товаров по 50 штук на одну страницу пагинации. Для каждого товара отображается его Название, Цена, Бренд и id, дубли удаляются автоматически. На странице есть боковая панель с фильтрами по бренду названию и цене.
Фильтрация по цене работает c ошибками это связано с большим количеством запросов в API при большой выборке по ценам, расматривал вариант фильтрации запрошенных карточек по ценам указанным в карточках, но такой вариант не решает проблемы с большим количествоом запросов, так как к моменту начала фильтрации уже должны быть запрошены все карточки товаров которых также может быть большое колчество. Даже если запрашивать по 100 карточек товаров за раз, запрос всех карточек (наданный момент карточек предоставляемых API 8000 штук, это 80 запросов по 100 карточек) будет занимать продолжительное время что крайне негативно скажется на качестве работы страницы в целом. 

Мое личное мнение.

Считаю что необходимо доработать API в частности функцию фильтра для цен, в запросе нужно указывать не одну цену по которой нужна выборка а диапазон цен, это значительно ускорит работу фильтра по цене.


## BACKEND

Изначально планировал все запросы выполнять на стороне BackEnd(а) и изначально собственно функции запросов под это и писал (это видно в коде) но ранее я проекты с использованием NextJS не пробовал переводить в статические файлы и постить на GitPages и как итог этот проект стал для меня весьма познавательным. 

1) Я знал о существовани разницы между статической генерацией но не предавал особого значения этому. В данном проекте это оказалось крайне важным фактором, ведь при статической генерации SSR не работает от слова совсем так как нет как таковой серверной стороны есть только статическая клиентская, как итоге идея делать все запросы на серверной стороне с целью защиты ключа API от посторонних глаз пошла прахом и пришлось часть кода переписать и далее продолжить работу только с клиентской стороной
2) У NextJS c AppRouter без серверной стороны нет возможности определить тип устройства с которого заходит пользователь и на основании типа устройства выполнить рендер мобильной или десктопной версии приложения, да конечно всегда можно использовать @media запросы но если посмотреть разрешения экранов современных планшетов то можно увидеть что они уже пересекаются с разрешениями экранов компьютеров что может привести к неверному отображению на планшете или на компьютере.
3) Исходя из первых двух пунктов я лично для себя сделал вывод что NextJS в связке с AppRouter не смотря на свою современность и прогрессивность еще довольно сырой, и для хороших масштабных проектов куда лучше подходит обычный React ну или если все же хочется прогрессивности и современности то NextJS в связке с PagesRouter от которого NextJS по малу уходит.

Я благодарю ребят из Valantis за предоставленное задание.
